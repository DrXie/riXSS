{% extends "base.html" %}

{% block style %}
<style>
    .main-title {
        padding-bottom: 20px;
        margin-bottom: 30px;
        border-bottom: 1px solid #CCC;
    }

    .background-white {
        background: #FFF;
    }

    tr.result > .center {
        vertical-align: middle;
        display: inline-block;
    }

    .time {
        width: 150px;
    }

    .server-data {
        width: 200px;
    }

    .cookies {
        width: 610px;
    }

    .result > td, .result > th{
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
    }

    .result-container {
        width: 1140px
    }

    .view {
        width: 55px;
    }

    .id {
        width: 35px;
    }

</style>
{% endblock %}


{% block body %}
<h1 class="main-title">Project Result</h1>
<div class="result-container">
    <table class="table table-striped">
        <thead>
            <tr class="result">
                <th class="center">#</th>
                <th class="center id">ID</th>
                <th class="center time">Got Time</th>
                <th class="center server-data">Server Data</th>
                <th class="center cookies">Cookies</th>
                <th class="center">View</th>
                <th class="center">Delete</th>
            </tr>
        </thead>
        <tbody>
            {% set i = 1 %}
            {% for result in results %}
            <tr class="result">
                <td class="center"><input type="checkbox"></td>
                <td class="center id"><strong>{{ i }}</strong></td>
                <td class="time center">{{ result.got_time }}</td>
                <td class="server-data center">
                    <strong>IP Address: </strong>{{ result.server_data['Request-IP'] }}
                    <strong>User-Agent: </strong>{{ result.server_data['User-Agent'] }}
                </td>
                <td class="center cookies">
                    {% for i in result.raw_data.keys() %}
                        <strong>{{ i }}: </strong>{{ result.raw_data[i] }}
                    {% endfor %}
                </td>
                <td class="center view"><a href="##">View</a></td>
                <td class="center"><a href="/projects/{{ project_id }}/delete/{{ result.id  }}">Delete</a></td>
            </tr>
            {% set i = i + 1 %}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}